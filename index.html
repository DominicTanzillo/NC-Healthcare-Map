<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>NC ED Model Comparison</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            max-width: 1100px;
            margin: auto;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        select {
            padding: 6px;
            font-size: 14px;
        }

        iframe {
            width: 100%;
            height: 800px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>North Carolina ED Visit Models</h1>
    <p>Select a model and choose County or Region analysis.</p>

    <div class="controls">
        <div>
            <label for="modelSelect">Model:</label><br>
            <select id="modelSelect">
                <option value="ridge">Ridge Regression</option>
                <option value="poly_ridge_deg2">Polynomial Ridge (deg 2)</option>
                <option value="random_forest">Random Forest</option>
                <option value="gradient_boosting">Gradient Boosting</option>
                <option value="svr_linear">SVR Linear</option>
                <option value="knn">KNN</option>
                <option value="neural_network">Neural Network</option>
            </select>
        </div>

        <div>
            <label for="levelSelect">Analysis Level:</label><br>
            <select id="levelSelect">
                <option value="county">County</option>
                <option value="region">Region</option>
            </select>
        </div>
    </div>

    <iframe id="mapFrame" src=""></iframe>

    <script>
        function updateMap() {
            const model = document.getElementById("modelSelect").value;
            const level = document.getElementById("levelSelect").value;

            const filePath = `model_maps/${model}_${level}_map.html`;

            document.getElementById("mapFrame").src = filePath;
        }

        document.getElementById("modelSelect").addEventListener("change", updateMap);
        document.getElementById("levelSelect").addEventListener("change", updateMap);

        updateMap();
    </script>

</body>
</html>
